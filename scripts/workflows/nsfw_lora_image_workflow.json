{
  "_meta": {
    "title": "NSFW LoRA Image Master Workflow",
    "description": "Focused LoRA-enhanced NSFW image generation using Pony Diffusion XL with realism optimization. Clean, efficient workflow for high-quality explicit content with precise LoRA control.",
    "version": "1.0.0",
    "category": "lora-generation",
    "tags": ["lora", "pony-diffusion", "realism", "nsfw", "focused-workflow"],
    "author": "AI Kings Prototype",
    "date_created": "2024-01-26",
    "last_updated": "2024-01-26"
  },
  "model_requirements": {
    "base_model": {
      "name": "Pony Diffusion V6 XL",
      "filename": "ponyDiffusionV6XL.safetensors",
      "type": "checkpoint",
      "description": "Advanced Pony model optimized for character generation and NSFW content",
      "url": "https://civitai.com/models/257749/pony-diffusion-v6-xl",
      "hash": "Expected hash for verification"
    },
    "lora_model": {
      "name": "Pony Realism v2.1",
      "filename": "pony_realism_v2.1.safetensors",
      "type": "lora",
      "description": "Realism enhancement LoRA for Pony models, improves photorealistic quality",
      "url": "https://civitai.com/models/372851/pony-realism",
      "recommended_weight": 0.6,
      "weight_range": "0.4-0.9",
      "trigger_words": ["realistic", "photorealistic", "detailed skin"]
    }
  },
  "quality_settings": {
    "resolution": {
      "width": 1024,
      "height": 1024,
      "aspect_ratio": "1:1",
      "recommended_range": "768x768 to 1536x1536"
    },
    "sampling": {
      "steps": 30,
      "cfg_scale": 7.0,
      "sampler": "dpmpp_2m_sde",
      "scheduler": "karras",
      "clip_skip": -2,
      "recommended_steps_range": "25-40",
      "recommended_cfg_range": "6.0-8.0"
    },
    "performance": {
      "vram_usage": "~10-12GB",
      "recommended_gpu": "RTX 3060+ or equivalent",
      "generation_time": "~15-30 seconds",
      "efficiency": "Optimized single-LoRA workflow"
    }
  },
  "lora_configuration": {
    "single_lora_focus": {
      "description": "Streamlined workflow for single LoRA application",
      "weight_optimization": "0.6-0.8 for balanced realism enhancement",
      "clip_weight": "Match model weight for consistent application"
    },
    "realism_lora_specific": {
      "pony_realism_v21": "Enhances photorealistic qualities in Pony generations",
      "effect": "Improves skin texture, lighting, and overall realism",
      "compatibility": "Works well with Pony base models"
    },
    "alternative_loras": [
      {
        "name": "HyperDump",
        "weight": "0.7-0.9",
        "use_case": "NSFW enhancement and explicit content"
      },
      {
        "name": "Detail Tweaker",
        "weight": "0.5-0.7",
        "use_case": "Enhanced facial and anatomical details"
      }
    ]
  },
  "prompting_guide": {
    "positive_prompt_structure": [
      "Quality: score_9, score_8_up, score_7_up, masterpiece, photorealistic",
      "Subject: 1girl, detailed face, beautiful eyes",
      "Content: nsfw, explicit elements",
      "Style: high quality, realistic details",
      "LoRA triggers: Include realism-related terms if needed"
    ],
    "negative_prompt_structure": [
      "Quality issues: score_6, score_5, score_4, low quality, blurry",
      "Style filters: censored, watermark, ugly, cartoon, anime",
      "Anatomy: bad anatomy, deformed (if realism-focused)"
    ],
    "lora_specific_prompting": {
      "realism_enhancement": "Use 'photorealistic, detailed skin, realistic lighting'",
      "consistency": "Keep prompt structure consistent for batch generation",
      "trigger_words": "Include LoRA-specific trigger words for best results"
    },
    "example_prompts": [
      "score_9, score_8_up, score_7_up, 1girl, detailed face, beautiful eyes, high quality, nsfw, photorealistic, detailed skin, realistic lighting, masterpiece",
      "score_9, score_8_up, 1girl, nsfw, explicit pose, photorealistic, detailed anatomy, high resolution, cinematic lighting"
    ]
  },
  "workflow_flow": {
    "step_1": "Load Pony Diffusion XL base model",
    "step_2": "Apply CLIP skip (-2) for better prompt following",
    "step_3": "Load and apply Pony Realism v2.1 LoRA (0.8 weight)",
    "step_4": "Encode positive and negative prompts",
    "step_5": "Generate latent image (1024x1024)",
    "step_6": "Sample with KSampler (30 steps, CFG 7.0)",
    "step_7": "Decode latent to image with VAE",
    "step_8": "Save final image"
  },
  "expected_output": {
    "image_quality": "High-resolution photorealistic NSFW images",
    "style": "Pony Diffusion with enhanced realism",
    "resolution": "1024x1024 pixels",
    "content": "Explicit content with detailed anatomy and realistic rendering",
    "consistency": "Stable results with LoRA-specific characteristics"
  },
  "troubleshooting": {
    "weak_lora_effect": {
      "solution": "Increase LoRA weight to 0.9, add trigger words to prompt",
      "alternative": "Try different realism LoRA if available"
    },
    "inconsistent_quality": {
      "solution": "Use consistent prompt structure, check CLIP skip setting",
      "alternative": "Adjust CFG scale or sampler settings"
    },
    "vram_issues": {
      "solution": "Reduce resolution to 768x768, use --lowvram flag",
      "alternative": "Switch to SD 1.5 models for lower VRAM usage"
    },
    "style_mismatch": {
      "solution": "Ensure LoRA is compatible with Pony base model",
      "alternative": "Use Pony-specific LoRAs for best results"
    }
  },
  "optimization_tips": {
    "lora_selection": "Choose LoRAs specifically trained on Pony models",
    "weight_fine_tuning": "Test weight ranges (0.4-0.9) for optimal effect",
    "batch_consistency": "Use same LoRA and weights for consistent batch results",
    "prompt_optimization": "Include LoRA trigger words and style descriptors"
  },
  "last_node_id": 99,
  "last_link_id": 100,
  "nodes": [
    {
      "id": 1,
      "type": "CheckpointLoaderSimple",
      "pos": [50, 100],
      "size": [315, 98],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [1], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [100], "slot_index": 1},
        {"name": "VAE", "type": "VAE", "links": [10], "slot_index": 2}
      ],
      "widgets_values": ["ponyDiffusionV6XL.safetensors"]
    },
    {
      "id": 99,
      "type": "CLIPSetLastLayer",
      "pos": [50, 250],
      "size": [315, 58],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 100}],
      "outputs": [{"name": "CLIP", "type": "CLIP", "links": [2], "slot_index": 0}],
      "widgets_values": [-2]
    },
    {
      "id": 2,
      "type": "LoraLoader",
      "pos": [400, 100],
      "size": [315, 126],
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 1},
        {"name": "clip", "type": "CLIP", "link": 2}
      ],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [3], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [4, 5], "slot_index": 1}
      ],
      "widgets_values": ["pony_realism_v2.1.safetensors", 0.8, 0.8]
    },
    {
      "id": 3,
      "type": "CLIPTextEncode",
      "pos": [750, 50],
      "size": [400, 100],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 4}],
      "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [6], "slot_index": 0}],
      "widgets_values": ["score_9, score_8_up, score_7_up, 1girl, detailed face, beautiful eyes, high quality, nsfw, masterpiece, photorealistic"]
    },
    {
      "id": 4,
      "type": "CLIPTextEncode",
      "pos": [750, 200],
      "size": [400, 100],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 5}],
      "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [7], "slot_index": 0}],
      "widgets_values": ["score_6, score_5, score_4, low quality, blurry, censored, watermark, ugly, cartoon, anime"]
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [750, 350],
      "size": [315, 106],
      "outputs": [{"name": "LATENT", "type": "LATENT", "links": [8], "slot_index": 0}],
      "widgets_values": [1024, 1024, 1]
    },
    {
      "id": 6,
      "type": "KSampler",
      "pos": [1200, 100],
      "size": [315, 262],
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 3},
        {"name": "positive", "type": "CONDITIONING", "link": 6},
        {"name": "negative", "type": "CONDITIONING", "link": 7},
        {"name": "latent_image", "type": "LATENT", "link": 8}
      ],
      "outputs": [{"name": "LATENT", "type": "LATENT", "links": [9], "slot_index": 0}],
      "widgets_values": [111222333, "randomize", 30, 7.0, "dpmpp_2m_sde", "karras", 1]
    },
    {
      "id": 7,
      "type": "VAEDecode",
      "pos": [1550, 100],
      "size": [210, 46],
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 9},
        {"name": "vae", "type": "VAE", "link": 10}
      ],
      "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [11], "slot_index": 0}]
    },
    {
      "id": 8,
      "type": "SaveImage",
      "pos": [1800, 100],
      "size": [315, 270],
      "inputs": [{"name": "images", "type": "IMAGE", "link": 11}],
      "widgets_values": ["aikings_lora_nsfw"]
    }
  ],
  "links": [
    [1, 1, 0, 2, 0, "MODEL"],
    [100, 1, 1, 99, 0, "CLIP"],
    [2, 99, 0, 2, 1, "CLIP"],
    [3, 2, 0, 6, 0, "MODEL"],
    [4, 2, 1, 3, 0, "CLIP"],
    [5, 2, 1, 4, 0, "CLIP"],
    [6, 3, 0, 6, 1, "CONDITIONING"],
    [7, 4, 0, 6, 2, "CONDITIONING"],
    [8, 5, 0, 6, 3, "LATENT"],
    [9, 6, 0, 7, 0, "LATENT"],
    [10, 1, 2, 7, 1, "VAE"],
    [11, 7, 0, 8, 0, "IMAGE"]
  ],
  "version": 0.4
}