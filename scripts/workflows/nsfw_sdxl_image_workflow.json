{
  "_meta": {
    "title": "NSFW SDXL Image Master Workflow",
    "description": "High-quality SDXL-based NSFW image generation with Pony realism enhancement. Clean, efficient workflow optimized for Stable Diffusion XL models with photorealistic explicit content output.",
    "version": "1.0.0",
    "category": "sdxl-generation",
    "tags": ["sdxl", "realism", "pony-lora", "nsfw", "photorealistic"],
    "author": "AI Kings Prototype",
    "date_created": "2024-01-26",
    "last_updated": "2024-01-26"
  },
  "model_requirements": {
    "base_model": {
      "name": "SDXL Base 1.0",
      "filename": "sd_xl_base_1.0.safetensors",
      "type": "checkpoint",
      "description": "Official Stable Diffusion XL base model for high-quality generation",
      "url": "https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0",
      "hash": "31e35c80fc4829d14f90153f4c74cd59c90b779f6afe05a74cd6120b893f951e"
    },
    "vae": {
      "name": "SDXL VAE",
      "filename": "sdxl_vae.safetensors",
      "type": "vae",
      "description": "SDXL-specific VAE for optimal image decoding",
      "url": "https://huggingface.co/stabilityai/sdxl-vae",
      "hash": "e6bbfef70bca26c0"
    },
    "lora_model": {
      "name": "Pony Realism v2.1 (SDXL)",
      "filename": "pony_realism_v2.1.safetensors",
      "type": "lora",
      "description": "SDXL-compatible realism enhancement LoRA for photorealistic quality",
      "url": "https://civitai.com/models/372851/pony-realism",
      "recommended_weight": 0.6,
      "weight_range": "0.4-0.9",
      "compatibility": "Optimized for SDXL base model"
    }
  },
  "quality_settings": {
    "resolution": {
      "width": 1024,
      "height": 1024,
      "aspect_ratio": "1:1",
      "recommended_range": "768x768 to 1536x1536",
      "sdxl_optimized": "1024x1024 is native SDXL resolution"
    },
    "sampling": {
      "steps": 30,
      "cfg_scale": 7.0,
      "sampler": "dpmpp_2m_sde",
      "scheduler": "karras",
      "clip_skip": -2,
      "recommended_steps_range": "20-50",
      "recommended_cfg_range": "6.0-9.0"
    },
    "performance": {
      "vram_usage": "~8-12GB",
      "recommended_gpu": "RTX 3060+ or equivalent",
      "generation_time": "~20-40 seconds",
      "sdxl_efficiency": "Optimized for SDXL's native resolution"
    }
  },
  "sdxl_specific_optimizations": {
    "resolution_handling": {
      "native_resolution": "1024x1024 works best with SDXL",
      "aspect_ratio_flexibility": "SDXL handles various aspect ratios well",
      "upscaling_readiness": "Base resolution suitable for post-upscaling"
    },
    "conditioning": {
      "clip_skip": "-2 recommended for better prompt following",
      "dual_text_encoders": "SDXL uses both CLIP-L and CLIP-G",
      "prompt_weighting": "Natural language weighting works effectively"
    },
    "lora_integration": {
      "compatibility": "Use SDXL-trained LoRAs for best results",
      "weight_scaling": "SDXL typically needs slightly higher LoRA weights",
      "training_data": "Pony-based LoRAs work well on SDXL base"
    }
  },
  "prompting_guide": {
    "positive_prompt_structure": [
      "Quality foundation: score_9, score_8_up, score_7_up, masterpiece, photorealistic",
      "Subject description: 1girl, detailed face, beautiful eyes",
      "Content: nsfw, explicit elements",
      "Style: high quality, cinematic lighting",
      "SDXL optimization: Include detailed descriptions for better results"
    ],
    "negative_prompt_structure": [
      "Quality issues: score_6, score_5, score_4, low quality, blurry",
      "Undesired content: censored, watermark, ugly",
      "Style filters: cartoon, anime (if wanting realistic)",
      "SDXL artifacts: Avoid generic SD 1.5 negative terms"
    ],
    "sdxl_prompting_tips": {
      "detail_orientation": "SDXL responds well to detailed, natural language prompts",
      "quality_tags": "Use score ratings and quality descriptors effectively",
      "style_consistency": "Maintain consistent style language throughout prompt",
      "length_optimization": "SDXL can handle longer, more descriptive prompts"
    },
    "example_prompts": [
      "score_9, score_8_up, score_7_up, 1girl, detailed face, beautiful eyes, high quality, nsfw, photorealistic, detailed skin texture, cinematic lighting, professional composition",
      "score_9, score_8_up, 1girl, nsfw, explicit pose, photorealistic, high resolution, sharp focus, detailed anatomy, cinematic lighting, masterpiece quality"
    ]
  },
  "workflow_flow": {
    "step_1": "Load SDXL base model and VAE",
    "step_2": "Apply CLIP skip (-2) for enhanced prompt following",
    "step_3": "Load and apply Pony Realism LoRA (0.8 weight)",
    "step_4": "Encode positive and negative prompts with SDXL CLIP",
    "step_5": "Generate latent image (1024x1024)",
    "step_6": "Sample with KSampler (30 steps, CFG 7.0)",
    "step_7": "Decode latent to image with SDXL VAE",
    "step_8": "Save high-quality NSFW image"
  },
  "expected_output": {
    "image_quality": "High-resolution photorealistic NSFW images",
    "style": "SDXL base with Pony realism enhancement",
    "resolution": "1024x1024 pixels",
    "content": "Explicit content with detailed anatomy and realistic rendering",
    "sdxl_characteristics": "Natural lighting, detailed textures, professional quality"
  },
  "troubleshooting": {
    "low_detail_output": {
      "solution": "Increase steps to 40-50, add more descriptive prompts",
      "alternative": "Use higher resolution (1152x1152) if VRAM allows"
    },
    "inconsistent_style": {
      "solution": "Strengthen LoRA weight to 0.9, use more specific prompts",
      "alternative": "Try different SDXL-compatible LoRAs"
    },
    "vram_issues": {
      "solution": "Reduce resolution to 768x768, use --lowvram flag",
      "alternative": "Switch to SD 1.5 models for lower VRAM usage"
    },
    "poor_prompt_following": {
      "solution": "Adjust CLIP skip (-1 or -2), use clearer prompt structure",
      "alternative": "Try different sampler (euler_a often works well with SDXL)"
    }
  },
  "optimization_tips": {
    "resolution": "Use SDXL's native resolutions (1024x1024, 1152x896, etc.)",
    "lora_selection": "Choose LoRAs specifically trained on SDXL for best compatibility",
    "prompt_engineering": "Leverage SDXL's strong language understanding with detailed prompts",
    "batch_consistency": "Use consistent settings for batch processing"
  },
  "last_node_id": 99,
  "last_link_id": 100,
  "nodes": [
    {
      "id": 1,
      "type": "CheckpointLoaderSimple",
      "pos": [50, 100],
      "size": [315, 98],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [1], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [100], "slot_index": 1},
        {"name": "VAE", "type": "VAE", "links": [10], "slot_index": 2}
      ],
      "widgets_values": ["sd_xl_base_1.0.safetensors"]
    },
    {
      "id": 99,
      "type": "CLIPSetLastLayer",
      "pos": [50, 250],
      "size": [315, 58],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 100}],
      "outputs": [{"name": "CLIP", "type": "CLIP", "links": [2], "slot_index": 0}],
      "widgets_values": [-2]
    },
    {
      "id": 2,
      "type": "LoraLoader",
      "pos": [400, 100],
      "size": [315, 126],
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 1},
        {"name": "clip", "type": "CLIP", "link": 2}
      ],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [3], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [4, 5], "slot_index": 1}
      ],
      "widgets_values": ["pony_realism_v2.1.safetensors", 0.8, 0.8]
    },
    {
      "id": 3,
      "type": "CLIPTextEncode",
      "pos": [750, 50],
      "size": [400, 100],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 4}],
      "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [6], "slot_index": 0}],
      "widgets_values": ["score_9, score_8_up, score_7_up, 1girl, detailed face, beautiful eyes, high quality, nsfw, masterpiece, photorealistic, cinematic lighting"]
    },
    {
      "id": 4,
      "type": "CLIPTextEncode",
      "pos": [750, 200],
      "size": [400, 100],
      "inputs": [{"name": "clip", "type": "CLIP", "link": 5}],
      "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [7], "slot_index": 0}],
      "widgets_values": ["score_6, score_5, score_4, low quality, blurry, censored, watermark, ugly, cartoon, anime"]
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [750, 350],
      "size": [315, 106],
      "outputs": [{"name": "LATENT", "type": "LATENT", "links": [8], "slot_index": 0}],
      "widgets_values": [1024, 1024, 1]
    },
    {
      "id": 6,
      "type": "KSampler",
      "pos": [1200, 100],
      "size": [315, 262],
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 3},
        {"name": "positive", "type": "CONDITIONING", "link": 6},
        {"name": "negative", "type": "CONDITIONING", "link": 7},
        {"name": "latent_image", "type": "LATENT", "link": 8}
      ],
      "outputs": [{"name": "LATENT", "type": "LATENT", "links": [9], "slot_index": 0}],
      "widgets_values": [111222333, "randomize", 30, 7.0, "dpmpp_2m_sde", "karras", 1]
    },
    {
      "id": 7,
      "type": "VAEDecode",
      "pos": [1550, 100],
      "size": [210, 46],
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 9},
        {"name": "vae", "type": "VAE", "link": 10}
      ],
      "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [11], "slot_index": 0}]
    },
    {
      "id": 8,
      "type": "SaveImage",
      "pos": [1800, 100],
      "size": [315, 270],
      "inputs": [{"name": "images", "type": "IMAGE", "link": 11}],
      "widgets_values": ["aikings_sdxl_nsfw"]
    }
  ],
  "links": [
    [1, 1, 0, 2, 0, "MODEL"],
    [100, 1, 1, 99, 0, "CLIP"],
    [2, 99, 0, 2, 0, "CLIP"],
    [3, 2, 0, 6, 0, "MODEL"],
    [4, 2, 1, 3, 0, "CLIP"],
    [5, 2, 1, 4, 0, "CLIP"],
    [6, 3, 0, 6, 1, "CONDITIONING"],
    [7, 4, 0, 6, 2, "CONDITIONING"],
    [8, 5, 0, 6, 3, "LATENT"],
    [9, 6, 0, 7, 0, "LATENT"],
    [10, 1, 2, 7, 1, "VAE"],
    [11, 7, 0, 8, 0, "IMAGE"]
  ],
  "version": 0.4
}